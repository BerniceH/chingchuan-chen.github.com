// Building R in linux:

sudo apt-get install R-base R-base-dev

apt-cache search readline xorg-dev
sudo apt-get install libreadline6 libreadline6-dev texinfo texlive-binaries openjdk-7-jdk xorg-dev

// install libiconv
wget http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.14.tar.gz
tar -xvzf libiconv-1.14.tar.gz
cd libiconv-1.14 && ./configure --prefix=/usr/local/libiconv
make && sudo make install

// error in make libiconv-1.14: 'gets' undeclared here (not in a function) libiconv-1.14/srclib/stdio.in.h (698):
_GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
// replace above with following:
#if defined(__GLIBC__) && !defined(__UCLIBC__) && !__GLIBC_PREREQ(2, 16)
 _GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
#endif

wget http://cran.csie.ntu.edu.tw/src/base/R-3/R-3.1.0.tar.gz
tar -xvzf R-3.1.0.tar.gz


// default setup
cd R-3.1.0/ && ./configure && make && make check

make install
make prefix=/usr/lib/R install-libR
make install-info
make install-pdf



// for test
wget http://r.research.att.com/benchmarks/R-benchmark-25.R
sudo R
install.packages("SuppDists")
q()
cat R-benchmark-25.R | time R --slave


// to use openblas
sudo apt-get install libopenblas-base libatlas3gf-base
sudo update-alternatives --config libblas.so.3
// choose /usr/lib/openblas-base/libblas.so.3

// install intel C++ compiler
sudo apt-get install build-essential
sudo apt-get install libstdc++6

// compile with intel MKL
sudo -s
source /opt/intel/composer_xe_2013_sp1.3.174/mkl/bin/mklvars.sh intel64
source /opt/intel/composer_xe_2013_sp1.3.174/bin/compilervars.sh intel64
export LD="xild"
export CC="icc"
export CXX="icpc"
export AR="xiar"
export CFLAGS="-O3 -ipo -openmp -xHost"
export CXXFLAGS="-O3 -ipo -openmp -xHost"

MKL="-lmkl_gf_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread"
./configure --with-blas="-L/opt/intel/composer_xe_2013_sp1.3.174/mkl/lib/intel64 ${MKL}" --with-lapack --enable-R-shlib --with-x
make
make install

R
update.packages(checkBuilt=TRUE)


